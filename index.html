<!DOCTYPE html>
<html>
<head>
  <title>Madden Style Football</title>
  <style>
    button, select { display:block; margin:10px; font-size:18px; }
    #game, #teamSelection { display:none; }
  </style>
</head>
<body>
<h1>Madden Style Football</h1>

<div id="menu" role="navigation" aria-label="Main Menu">
  <button id="quickPlayBtn" aria-label="Start Quick Play">Quick Play</button>
  <button id="franchiseBtn" aria-label="Start Franchise Mode">Franchise</button>
</div>

<div id="teamSelection" aria-label="Team Selection">
  <h3>Select Teams</h3>
  <label for="homeTeamSelect">Home Team:</label>
  <select id="homeTeamSelect"></select>

  <label for="awayTeamSelect">Away Team:</label>
  <select id="awayTeamSelect"></select>

  <button id="startGameBtn" aria-label="Start Game">Start Game</button>
</div>

<div id="game">
  <div id="scoreboard" aria-live="polite"></div>
  <div id="situation" aria-live="polite"></div>
  <div id="aiAnnounce" aria-live="polite" style="position:absolute; left:-9999px;"></div>
</div>

<script>
window.onload = function() {
  // ==== DOM Elements ====
  const menuScreen = document.getElementById("menu");
  const teamSelectionScreen = document.getElementById("teamSelection");
  const gameScreen = document.getElementById("game");

  const quickPlayBtn = document.getElementById("quickPlayBtn");
  const franchiseBtn = document.getElementById("franchiseBtn");
  const startGameBtn = document.getElementById("startGameBtn");

  const scoreboardDiv = document.getElementById("scoreboard");
  const situationDiv = document.getElementById("situation");

  // ==== TEAMS & PLAYERS ====
  const teams = [
    "49ers", "Eagles", "Cowboys", "Packers", "Chiefs", "Bills", "Bengals", "Ravens",
    "Steelers", "Browns", "Jets", "Giants", "Dolphins", "Patriots", "Chargers", "Raiders",
    "Broncos", "Texans", "Titans", "Colts", "Jaguars", "Commanders", "Seahawks", "Rams",
    "Cardinals", "Lions", "Vikings", "Bears", "Saints", "Falcons", "Panthers", "Buccaneers"
  ];
  const homeSelect = document.getElementById("homeTeamSelect");
  const awaySelect = document.getElementById("awayTeamSelect");

  // Populate selects
  teams.forEach(team => {
    let optHome = document.createElement("option");
    optHome.value = team;
    optHome.textContent = team;
    homeSelect.appendChild(optHome);

    let optAway = document.createElement("option");
    optAway.value = team;
    optAway.textContent = team;
    awaySelect.appendChild(optAway);
  });
  homeSelect.value = "49ers";
  awaySelect.value = "Chiefs"; // Set a default away team

  // Player data (incomplete, but enough to get started)
  const players = {
      "49ers": {
          offense: ["Brock Purdy", "Christian McCaffrey", "Deebo Samuel", "Brandon Aiyuk", "George Kittle"],
          defense: ["Nick Bosa", "Fred Warner", "Arik Armstead", "Javon Hargrave", "Charvarius Ward"]
      },
      "Chiefs": {
          offense: ["Patrick Mahomes", "Isiah Pacheco", "Travis Kelce", "Rashee Rice"],
          defense: ["Chris Jones", "Nick Bolton", "Trent McDuffie"]
      }
      // Add more teams and players here
  };


  // ==== GAME STATE ====
  let homeTeam = "49ers", awayTeam = "Chiefs";
  let homeScore = 0, awayScore = 0;
  let possession = "home", currentDown = 1, yardsToFirst = 10, ballPosition = 25, quarter = 1;
  let defenseChoice = "zone"; // AI's defensive choice

  // ==== EVENT LISTENERS ====
  quickPlayBtn.addEventListener("click", () => {
    menuScreen.style.display = "none";
    teamSelectionScreen.style.display = "block";
  });

  franchiseBtn.addEventListener("click", () => {
    alert("Franchise mode is not yet implemented.");
  });

  startGameBtn.addEventListener("click", () => {
    homeTeam = homeSelect.value;
    awayTeam = awaySelect.value;
    teamSelectionScreen.style.display = "none";
    gameScreen.style.display = "block";
    startGame();
  });

  // ==== GAME FUNCTIONS ====
  function updateScoreboard() {
    scoreboardDiv.innerHTML = `
      <p>${homeTeam}: ${homeScore} - ${awayTeam}: ${awayScore}</p>
      <p>Quarter: ${quarter}</p>
    `;
    updateSituation();
  }

  function updateSituation() {
    let teamWithBall = (possession === "home") ? homeTeam : awayTeam;
    situationDiv.innerHTML = `
      <p>Possession: ${teamWithBall}</p>
      <p>Down: ${currentDown}</p>
      <p>Yards to First Down: ${yardsToFirst}</p>
      <p>Ball on the ${ballPosition} yard line</p>
    `;
  }

  function startGame() {
    // Reset game state for a new game
    homeScore = 0;
    awayScore = 0;
    possession = "home";
    currentDown = 1;
    yardsToFirst = 10;
    ballPosition = 25;
    quarter = 1;
    updateScoreboard();
    updateSituation();
    // Here you would add the logic to start the first play
    // For now, it just displays the initial state.
    console.log("Game started!");
  }

  // Initial call to set up the display
  updateScoreboard();
};
</script>
</body>
</html>
