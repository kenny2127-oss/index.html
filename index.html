`csharp
, using UnityEngine; #if UNITYANDROID using UnityEngine.Android; #endif public class GameController : MonoBehaviour { public GameObject playerPrefab; public GameObject ballPrefab; private GameObject player; private GameObject ball; void Start() { player = Instantiate(playerPrefab, new Vector3(-4, 0, 0), Quaternion.identity); ball = Instantiate(ballPrefab, new Vector3(-4.3f, 0, 0), Quaternion.identity); AnnounceToScreenReader("Game started. Player and ball are ready.", false); } void Update() { if (Input.GetKeyDown(KeyCode.Space)) { player.transform.position += new Vector3(2, 0, 0); ball.transform.position = player.transform.position + new Vector3(-0.3f, 0, 0); AnnounceToScreenReader("Player moved. Ball is with player.", false); } } void AnnounceToScreenReader(string message, bool interrupt) { #if UNITYANDROID using (AndroidJavaClass unityPlayer = new AndroidJavaClass("com.unity3d.player.UnityPlayer")) { AndroidJavaObject currentActivity = unityPlayer.GetStatic<AndroidJavaObject>("currentActivity"); AndroidJavaClass ttsClass = new AndroidJavaClass("android.speech.tts.TextToSpeech"); currentActivity.Call("runOnUiThread", new AndroidJavaRunnable(() => { AndroidJavaObject tts = new AndroidJavaObject("android.speech.tts.TextToSpeech", currentActivity, null); tts.Call<int>("speak", message, 0, null, null); })); } #endif Debug.Log("Accessibility: " + message); } }
, `