<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pokémon Adventure</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; background: #f0f0f0; }
  .tabs { display: flex; border-top: 2px solid #333; background: #fff; position: fixed; bottom: 0; width: 100%; }
  .tab { flex: 1; padding: 15px; text-align: center; cursor: pointer; outline: none; }
  .tab.selected { background: #ddd; font-weight: bold; }
  .tab-content { padding: 20px; margin-bottom: 60px; display: none; }
  .tab-content.active { display: block; }
  button { padding: 10px; margin: 5px; font-size: 16px; }
  .pokemon-item { margin-bottom: 5px; }
</style>
</head>
<body>

<!-- Tabs -->
<div class="tab-content active" id="home-content">
  <h2>Home</h2>
  <button id="signup-btn">Sign Up</button>
  <button id="login-btn">Log In</button>
  <p>Welcome to Pokémon Adventure!</p>
</div>

<div class="tab-content" id="pokemon-content">
  <h2>Pokémon</h2>
  <div id="pokemon-list"></div>
</div>

<div class="tab-content" id="gather-content">
  <h2>Gather</h2>
  <button id="gather-btn">Gather Item</button>
  <div id="gather-result"></div>
</div>

<div class="tab-content" id="battle-content">
  <h2>Battle</h2>
  <button id="start-battle-btn">Start Battle</button>
  <div id="battle-log"></div>
</div>

<!-- Bottom Tabs -->
<div class="tabs" role="tablist">
  <div class="tab selected" role="tab" aria-selected="true" aria-controls="home-content">Home</div>
  <div class="tab" role="tab" aria-selected="false" aria-controls="pokemon-content">Pokémon</div>
  <div class="tab" role="tab" aria-selected="false" aria-controls="gather-content">Gather</div>
  <div class="tab" role="tab" aria-selected="false" aria-controls="battle-content">Battle</div>
</div>

<script>
// Tab navigation
const tabs = document.querySelectorAll('.tab');
const contents = document.querySelectorAll('.tab-content');

tabs.forEach(tab => {
  const showTab = () => {
    tabs.forEach(t => { t.classList.remove('selected'); t.setAttribute('aria-selected', 'false'); });
    tab.classList.add('selected'); tab.setAttribute('aria-selected', 'true');
    contents.forEach(c => c.classList.remove('active'));
    document.getElementById(tab.getAttribute('aria-controls')).classList.add('active');
  };
  tab.addEventListener('click', showTab);
});

// Pokémon Data (first 54 simplified)
const pokemonData = [
  {name:"Bulbasaur",type:"Grass/Poison",level:5,hp:45,attack:49,defense:49,speed:45,moves:[{name:"Tackle",power:40},{name:"Vine Whip",power:45}]},
  {name:"Ivysaur",type:"Grass/Poison",level:10,hp:60,attack:62,defense:63,speed:60,moves:[{name:"Tackle",power:40},{name:"Vine Whip",power:45}]},
  {name:"Venusaur",type:"Grass/Poison",level:20,hp:80,attack:82,defense:83,speed:80,moves:[{name:"Tackle",power:40},{name:"Vine Whip",power:45}]},
  {name:"Charmander",type:"Fire",level:5,hp:39,attack:52,defense:43,speed:65,moves:[{name:"Scratch",power:40},{name:"Ember",power:40}]},
  {name:"Charmeleon",type:"Fire",level:10,hp:58,attack:64,defense:58,speed:80,moves:[{name:"Scratch",power:40},{name:"Ember",power:40}]},
  {name:"Charizard",type:"Fire/Flying",level:20,hp:78,attack:84,defense:78,speed:100,moves:[{name:"Scratch",power:40},{name:"Ember",power:40}]},
  {name:"Squirtle",type:"Water",level:5,hp:44,attack:48,defense:65,speed:43,moves:[{name:"Tackle",power:40},{name:"Water Gun",power:40}]},
  {name:"Wartortle",type:"Water",level:10,hp:59,attack:63,defense:80,speed:58,moves:[{name:"Tackle",power:40},{name:"Water Gun",power:40}]},
  {name:"Blastoise",type:"Water",level:20,hp:79,attack:83,defense:100,speed:78,moves:[{name:"Tackle",power:40},{name:"Water Gun",power:40}]},
  // Continue adding remaining Pokémon up to 54...
];

// Display Pokémon
const pokemonListDiv = document.getElementById('pokemon-list');
pokemonData.forEach(p => {
  const div = document.createElement('div');
  div.className = 'pokemon-item';
  div.textContent = `${p.name} - Type: ${p.type} - Level: ${p.level}`;
  pokemonListDiv.appendChild(div);
});

// Gather system
const gatherBtn = document.getElementById('gather-btn');
const gatherResult = document.getElementById('gather-result');
const items = ["Pokéball","Potion","Rare Candy","Berry","Stone"];
let playerXP = 0;

gatherBtn.addEventListener('click', () => {
  const item = items[Math.floor(Math.random()*items.length)];
  playerXP += 10;
  gatherResult.textContent = `You gathered: ${item}! +10 XP (Total XP: ${playerXP})`;
});

// Battle system
const startBattleBtn = document.getElementById('start-battle-btn');
const battleLog = document.getElementById('battle-log');

startBattleBtn.addEventListener('click', () => {
  const player = pokemonData[Math.floor(Math.random()*pokemonData.length)];
  const enemy = pokemonData[Math.floor(Math.random()*pokemonData.length)];
  let playerHP = player.hp;
  let enemyHP = enemy.hp;
  battleLog.innerHTML = `Battle Start! ${player.name} vs ${enemy.name}<br>`;

  const battleInterval = setInterval(() => {
    if(playerHP <= 0 || enemyHP <= 0){ clearInterval(battleInterval); 
      if(playerHP>0){ playerXP+=50; battleLog.innerHTML+=`<br>You won! +50 XP (Total XP: ${playerXP})`; } 
      else battleLog.innerHTML+=`<br>You lost!`; 
      return; 
    }
    const playerMove = player.moves[Math.floor(Math.random()*player.moves.length)];
    enemyHP -= playerMove.power; if(enemyHP<0) enemyHP=0;
    battleLog.innerHTML += `${player.name} used ${playerMove.name}! Enemy HP: ${enemyHP}<br>`;
    if(enemyHP<=0) return;
    const enemyMove = enemy.moves[Math.floor(Math.random()*enemy.moves.length)];
    playerHP -= enemyMove.power; if(playerHP<0) playerHP=0;
    battleLog.innerHTML += `${enemy.name} used ${enemyMove.name}! Your HP: ${playerHP}<br>`;
  }, 1000);
});
</script>

</body>
</html><script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script>
(function() {
  // --- 1. Firebase configuration ---
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT_ID.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // --- 2. Create modal container ---
  const modal = document.createElement('div');
  modal.id = 'auth-modal';
  modal.style.position = 'fixed';
  modal.style.top = '0';
  modal.style.left = '0';
  modal.style.width = '100%';
  modal.style.height = '100%';
  modal.style.background = 'rgba(0,0,0,0.8)';
  modal.style.display = 'none';
  modal.style.justifyContent = 'center';
  modal.style.alignItems = 'center';
  modal.style.zIndex = '1000';
  modal.innerHTML = `
    <div style="background:#fff;padding:20px;border-radius:10px;width:80%;max-width:400px;">
      <h2 id="auth-title">Sign Up</h2>
      <input type="email" id="auth-email" placeholder="Email" style="width:100%;margin:5px 0;padding:8px;">
      <input type="password" id="auth-password" placeholder="Password" style="width:100%;margin:5px 0;padding:8px;">
      <button id="auth-submit">Submit</button>
      <button id="auth-close" style="background:#f44336;color:white;">Close</button>
      <p id="auth-msg" style="color:red;"></p>
    </div>
  `;
  document.body.appendChild(modal);

  const authTitle = document.getElementById('auth-title');
  const authEmail = document.getElementById('auth-email');
  const authPassword = document.getElementById('auth-password');
  const authSubmit = document.getElementById('auth-submit');
  const authClose = document.getElementById('auth-close');
  const authMsg = document.getElementById('auth-msg');

  let mode = 'signup'; // or 'login'

  // --- 3. Attach click events ---
  document.getElementById('signup-btn').addEventListener('click', () => {
    mode = 'signup';
    authTitle.textContent = 'Sign Up';
    authMsg.textContent = '';
    authEmail.value = '';
    authPassword.value = '';
    modal.style.display = 'flex';
  });

  document.getElementById('login-btn').addEventListener('click', () => {
    mode = 'login';
    authTitle.textContent = 'Log In';
    authMsg.textContent = '';
    authEmail.value = '';
    authPassword.value = '';
    modal.style.display = 'flex';
  });

  authClose.addEventListener('click', () => { modal.style.display = 'none'; });

  // --- 4. Submit handler ---
  authSubmit.addEventListener('click', () => {
    const email = authEmail.value;
    const password = authPassword.value;
    authMsg.textContent = '';

    if(mode === 'signup') {
      auth.createUserWithEmailAndPassword(email, password)
        .then(userCredential => {
          modal.style.display = 'none';
          alert(`Welcome ${userCredential.user.email}!`);
        })
        .catch(error => { authMsg.textContent = error.message; });
    } else {
      auth.signInWithEmailAndPassword(email, password)
        .then(userCredential => {
          modal.style.display = 'none';
          alert(`Welcome back ${userCredential.user.email}!`);
        })
        .catch(error => { authMsg.textContent = error.message; });
    }
  });

  // --- 5. Keep user logged in ---
  auth.onAuthStateChanged(user => {
    if(user) {
      console.log("User is logged in:", user.email);
    } else {
      console.log("No user logged in");
    }
  });
})();
</script><!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.25.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.25.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.25.0/firebase-firestore-compat.js"></script>

<script>
(function() {
  // 1. Initialize Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyDB4XhURDerrLIfb_PdcyDHiBhyzIqRxvY",
    authDomain: "pokemon-756e7.firebaseapp.com",
    projectId: "pokemon-756e7",
    storageBucket: "pokemon-756e7.firebasestorage.app",
    messagingSenderId: "799827870179",
    appId: "1:799827870179:web:7cf9995a4c45469b02e0d6"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  // 2. Create auth UI under Home tab
  const homeTab = document.getElementById('home-content');
  const authDiv = document.createElement('div');
  authDiv.innerHTML = `
    <h3>Account</h3>
    <input type="email" id="auth-email" placeholder="Email" />
    <input type="password" id="auth-password" placeholder="Password" />
    <button id="signup-btn">Sign Up</button>
    <button id="login-btn">Log In</button>
    <div id="auth-message" style="margin-top:10px;color:green;"></div>
  `;
  homeTab.appendChild(authDiv);

  const emailInput = document.getElementById('auth-email');
  const passInput = document.getElementById('auth-password');
  const msgDiv = document.getElementById('auth-message');

  // 3. Sign Up
  document.getElementById('signup-btn').addEventListener('click', () => {
    const email = emailInput.value;
    const password = passInput.value;
    auth.createUserWithEmailAndPassword(email, password)
      .then(userCredential => {
        msgDiv.textContent = `Sign up successful! Welcome, ${email}`;
        // Initialize user Pokémon collection
        db.collection('users').doc(userCredential.user.uid).set({pokemon: []});
      })
      .catch(err => msgDiv.textContent = err.message);
  });

  // 4. Log In
  document.getElementById('login-btn').addEventListener('click', () => {
    const email = emailInput.value;
    const password = passInput.value;
    auth.signInWithEmailAndPassword(email, password)
      .then(userCredential => {
        msgDiv.textContent = `Logged in as ${email}`;
        // You can now load the user's Pokémon from Firestore
      })
      .catch(err => msgDiv.textContent = err.message);
  });

})();
</script>