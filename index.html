<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pok√©mon Adventure</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
body { font-family:'Inter',sans-serif; background:#1a202c; color:#e6eef8; -webkit-tap-highlight-color:transparent; }
.tab-content { display:none; padding-bottom:5rem; }
.tab-content.is-active { display:block; }
.tab-footer { position:fixed; bottom:0; left:0; width:100%; display:flex; background:#3b4cca; z-index:1000; }
.tab-footer button { flex:1; background-color:transparent; border:none; padding:1rem 0; cursor:pointer; color:white; transition:background-color 0.3s; font-weight:bold; }
.tab-footer button.is-active { background:#ffcb05; color:#1a202c; }
.modal { display:none; position:fixed; z-index:2000; left:0; top:0; width:100%; height:100%; overflow:auto; background-color:rgba(0,0,0,0.6); backdrop-filter:blur(5px); -webkit-backdrop-filter:blur(5px); }
.modal-content { background-color:#2d3748; margin:15% auto; padding:2rem; border-radius:1rem; width:80%; max-width:400px; text-align:center; }
</style>
</head>
<body>

<!-- Message Modal -->
<div id="messageModal" class="modal">
  <div class="modal-content">
    <h3 id="messageTitle" class="text-xl font-bold mb-4"></h3>
    <p id="messageText" class="mb-6"></p>
    <button onclick="hideMessage()" class="bg-blue-500 text-white font-bold py-2 px-6 rounded-lg shadow-lg hover:bg-blue-600 transition duration-300">OK</button>
  </div>
</div>

<header class="p-4 text-center">
  <h1 class="text-4xl font-bold text-yellow-400">Pok√©mon Adventure</h1>
</header>

<main class="container mx-auto p-4">

<!-- Home Tab -->
<section id="home" class="tab-content is-active">
  <div class="bg-gray-800 p-6 rounded-xl shadow-lg">
    <h2 class="text-2xl font-semibold mb-4 text-center">Pok√©dex</h2>
    <div id="pokedex" class="grid grid-cols-4 sm:grid-cols-6 lg:grid-cols-8 gap-3"></div>
  </div>
  <div class="flex flex-col sm:flex-row gap-4 mt-6">
    <button onclick="catchPokemon()" class="w-full bg-green-500 text-white font-bold py-3 rounded-lg shadow-md hover:bg-green-600 transition duration-300">Catch Pok√©mon</button>
    <button onclick="dailyReward()" class="w-full bg-yellow-500 text-gray-900 font-bold py-3 rounded-lg shadow-md hover:bg-yellow-600 transition duration-300">Daily Reward</button>
  </div>
  <button onclick="showMessage('Transfer Feature', 'This feature is currently under development.')" class="w-full bg-blue-500 text-white font-bold py-3 rounded-lg shadow-md mt-4 hover:bg-blue-600 transition duration-300">Transfer Pok√©dex</button>
</section>

<!-- Explore Tab -->
<section id="explore" class="tab-content">
  <div class="bg-gray-800 p-6 rounded-xl shadow-lg text-center">
    <h2 class="text-2xl font-semibold mb-2">Explore</h2>
    <p class="text-gray-400 mb-4">Click below to find a new Pok√©mon!</p>
    <button onclick="catchPokemon()" class="w-full bg-green-500 text-white font-bold py-3 rounded-lg shadow-md hover:bg-green-600 transition duration-300">Catch Pok√©mon</button>
  </div>
</section>

<!-- Gather Tab -->
<section id="gather" class="tab-content">
  <div class="bg-gray-800 p-6 rounded-xl shadow-lg">
    <h2 class="text-2xl font-semibold mb-4 text-center">Gather Resources</h2>
    <p class="text-gray-400 mb-2">Click to gather resources and gain experience.</p>
    <div class="flex justify-between items-center text-sm font-semibold mb-2">
      <span>Level: <span id="playerLevel">1</span></span>
      <span>Exp: <span id="playerExp">0</span>/<span id="expToNextLevel">100</span></span>
    </div>
    <div class="w-full bg-gray-600 rounded-full h-4 overflow-hidden">
      <div id="expBar" class="bg-green-500 h-full transition-all duration-500" style="width: 0%;"></div>
    </div>
    <button onclick="gatherResources()" class="w-full bg-indigo-500 text-white font-bold py-3 rounded-lg shadow-md mt-4 hover:bg-indigo-600 transition duration-300">Gather</button>
  </div>
</section>

<!-- Inventory Tab -->
<section id="inventory" class="tab-content">
  <div class="bg-gray-800 p-6 rounded-xl shadow-lg">
    <h2 class="text-2xl font-semibold mb-4 text-center">Inventory</h2>
    <div id="moneyDisplay" class="text-center text-lg font-bold mb-4"></div>
    <div id="inventoryItems" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4"></div>
  </div>
</section>

<!-- Pok√© Mart Tab -->
<section id="pokemart" class="tab-content">
  <div class="bg-gray-800 p-6 rounded-xl shadow-lg">
    <h2 class="text-2xl font-semibold mb-4 text-center">Pok√© Mart</h2>
    <div id="martItems" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4"></div>
  </div>
</section>

<!-- Trade Tab -->
<section id="trade" class="tab-content">
  <div class="bg-gray-800 p-6 rounded-xl shadow-lg">
    <h2 class="text-2xl font-semibold mb-4 text-center">Trade</h2>
    <label for="exportData" class="block mb-2 text-sm text-gray-400">Offer a Pok√©mon to generate a short code:</label>
    <textarea id="exportData" readonly class="w-full p-2 bg-gray-700 rounded-lg text-gray-100 border border-gray-600"></textarea>
    <button onclick="exportPokedex()" class="w-full bg-blue-500 text-white font-bold py-3 rounded-lg shadow-md mt-4 hover:bg-blue-600 transition duration-300">Generate Trade Code</button>
    <label for="importData" class="block mt-6 mb-2 text-sm text-gray-400">Enter a code to receive a Pok√©mon:</label>
    <textarea id="importData" class="w-full p-2 bg-gray-700 rounded-lg text-gray-100 border border-gray-600"></textarea>
    <button onclick="importPokedex()" class="w-full bg-purple-500 text-white font-bold py-3 rounded-lg shadow-md mt-4 hover:bg-purple-600 transition duration-300">Redeem Code</button>
  </div>
</section>

</main>

<!-- Tab Navigation -->
<footer class="tab-footer" role="tablist">
  <button onclick="switchTab('home')" data-tab="home" class="is-active" role="tab" aria-selected="true">Home</button>
  <button onclick="switchTab('explore')" data-tab="explore" role="tab" aria-selected="false">Explore</button>
  <button onclick="switchTab('gather')" data-tab="gather" role="tab" aria-selected="false">Gather</button>
  <button onclick="switchTab('inventory')" data-tab="inventory" role="tab" aria-selected="false">Inventory</button>
  <button onclick="switchTab('pokemart')" data-tab="pokemart" role="tab" aria-selected="false">Pok√© Mart</button>
  <button onclick="switchTab('trade')" data-tab="trade" role="tab" aria-selected="false">Trade</button>
</footer>

<script>
// --- Game Data ---
const pokemonList = ["Bulbasaur","Ivysaur","Venusaur","Charmander","Charmeleon","Charizard","Squirtle","Wartortle","Blastoise"];
let pokedex = [], items = {Potion:0,"Pok√© Ball":0,"Rare Candy":0,"Berries":0,"Stones":0,"Fire Stone":0,"Water Stone":0}, playerState = {level:1,exp:0,money:100};
const ITEM_PRICES = {Potion:50,"Pok√© Ball":100,"Rare Candy":500,Berries:5,Stones:20,"Fire Stone":500,"Water Stone":500};
const evolutionStones = {"Fire Stone":["Vulpix","Eevee"],"Water Stone":["Poliwhirl","Eevee"]};

// --- Helpers ---
function showMessage(title,text){document.getElementById("messageTitle").innerText=title;document.getElementById("messageText").innerText=text;document.getElementById("messageModal").style.display="block";}
function hideMessage(){document.getElementById("messageModal").style.display="none";}
function switchTab(tab){document.querySelectorAll(".tab-content").forEach(s=>s.classList.remove("is-active"));document.querySelectorAll(".tab-footer button").forEach(b=>b.classList.remove("is-active"));document.getElementById(tab).classList.add("is-active");document.querySelector(`[data-tab='${tab}']`).classList.add("is-active");if(tab==="inventory"){renderInventory()}else if(tab==="pokemart"){renderPokemart()}}

// --- Save/Load ---
function saveGame(){localStorage.setItem("pokedex",JSON.stringify(pokedex));localStorage.setItem("items",JSON.stringify(items));localStorage.setItem("playerState",JSON.stringify(playerState))}
function loadGame(){pokedex=JSON.parse(localStorage.getItem("pokedex"))||[];items=JSON.parse(localStorage.getItem("items"))||items;playerState=JSON.parse(localStorage.getItem("playerState"))||playerState;renderPokedex();renderGatherUI();}

// --- Rendering ---
function renderPokedex(){const c=document.getElementById("pokedex");c.innerHTML=pokemonList.map(p=>`<div class="card bg-gray-700 rounded-lg p-2 text-center shadow-inner text-sm">${pokedex.includes(p)?p:"???"}</div>`).join('');}
function renderGatherUI(){document.getElementById("playerLevel").textContent=playerState.level;document.getElementById("playerExp").textContent=playerState.exp;document.getElementById("expToNextLevel").textContent=expToNextLevel(playerState.level);document.getElementById("expBar").style.width=`${Math.min(100,(playerState.exp/expToNextLevel(playerState.level))*100)}%`;}
function renderInventory(){const inv=document.getElementById("inventoryItems");inv.innerHTML="";document.getElementById("moneyDisplay").textContent=`üí∞: ${playerState.money}`;for(const i in items){if(items[i]>0){const div=document.createElement("div");div.className="card bg-gray-700 rounded-lg p-3 text-center shadow-inner text-sm";let evo="";if(evolutionStones[i]){evo=`<p class="text-xs text-green-400">Can evolve: ${evolutionStones[i].join(", ")}</p>`}div.innerHTML=`<p class="font-bold">${i}</p><p>x${items[i]}</p>${evo}`;inv.appendChild(div)}}}
function renderPokemart(){const m=document.getElementById("martItems");m.innerHTML="";for(const i in ITEM_PRICES){if(playerState.money>=ITEM_PRICES[i]){const div=document.createElement("div");div.className="card bg-gray-700 rounded-lg p-3 text-center shadow-inner text-sm";div.innerHTML=`<p class="font-bold">${i}</p><p>Price: üí∞${ITEM_PRICES[i]}</p><button onclick="buyItem('${i}')" class="w-full bg-green-500 text-white py-1 rounded-md text-xs hover:bg-green-600 mt-1">Buy</button>`;m.appendChild(div)}}}

// --- Gameplay ---
function catchPokemon(){const p=pokemonList[Math.floor(Math.random()*pokemonList.length)];if(!pokedex.includes(p)){pokedex.push(p);showMessage("New Catch!",`You found a wild ${p}!`) } else {showMessage("Already Caught!",`You already have ${p}`)}saveGame();renderPokedex();}
function gatherResources(){const res=["Berries","Stones"];const r=res[Math.floor(Math.random()*res.length)];const amt=Math.floor(Math.random()*3)+1;items[r]+=amt;playerState.exp+=10;checkLevelUp();saveGame();renderGatherUI();showMessage("Gather Complete!",`You found ${amt} ${r}!`);}
function checkLevelUp(){while(playerState.exp>=expToNextLevel(playerState.level)){playerState.exp-=expToNextLevel(playerState.level);playerState.level++;showMessage("Level Up!",`You are now level ${playerState.level}!`)}}
function expToNextLevel(lvl){return Math.floor(100*Math.pow(1.2,lvl-1));}

// --- Pok√© Mart ---
function buyItem(item){if(playerState.money>=ITEM_PRICES[item]){playerState.money-=ITEM_PRICES[item];items[item]=(items[item]||0)+1;saveGame();renderInventory();renderPokemart();showMessage("Purchased",`You bought 1 ${item}`);}}

// --- Daily Reward ---
function dailyReward(){const last=localStorage.getItem("lastDaily");const today=new Date().toDateString();if(last===today){showMessage("Daily Reward","Already claimed today!");return;}const p=pokemonList[Math.floor(Math.random()*pokemonList.length)];if(!pokedex.includes(p))pokedex.push(p);items.Potion++;localStorage.setItem("lastDaily",today);saveGame();renderPokedex();showMessage("Daily Reward Claimed!",`You received ${p} and 1 Potion!`);}

// --- Trading ---
function exportPokedex(){const data=JSON.stringify(pokedex);const el=document.getElementById("exportData");el.value=data;el.select();try{document.execCommand('copy');showMessage("Success!","Trade code copied!");}catch{showMessage("Failed","Copy manually.");}}
function importPokedex(){const data=document.getElementById("importData").value;try{const imported=JSON.parse(data);let added=0;imported.forEach(p=>{if(!pokedex.includes(p)){pokedex.push(p);added++;}});saveGame();renderPokedex();showMessage("Trade Redeemed!",`You received ${added} new Pok√©mon!`);}catch{showMessage("Invalid Code","Not a valid trade code.");}}

// --- Init ---
window.onload=loadGame;
</script>

</body>
</html>