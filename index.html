<!DOCTYPE html>
<html>
<head>
  <title>Madden Style Football</title>
  <style>
    button, select { display:block; margin:10px; font-size:18px; }
    #game, #teamSelection { display:none; }
  </style>
</head>
<body>
<h1>Madden Style Football</h1>

<div id="menu" role="navigation" aria-label="Main Menu">
  <button id="quickPlayBtn" aria-label="Start Quick Play">Quick Play</button>
  <button id="franchiseBtn" aria-label="Start Franchise Mode">Franchise</button>
</div>

<div id="teamSelection" aria-label="Team Selection">
  <h3>Select Teams</h3>
  <label for="homeTeamSelect">Home Team:</label>
  <select id="homeTeamSelect"></select>

  <label for="awayTeamSelect">Away Team:</label>
  <select id="awayTeamSelect"></select>

  <button id="startGameBtn" aria-label="Start Game">Start Game</button>
</div>

<div id="game">
  <div id="scoreboard" aria-live="polite"></div>
  <div id="situation" aria-live="polite"></div>
  <div id="aiAnnounce" aria-live="polite" style="position:absolute; left:-9999px;"></div>
</div>

<script>
window.onload = function() {
  // We need to get a reference to each HTML element we want to work with.
  // This allows the JavaScript to "find" the buttons and screens.
  const menuScreen = document.getElementById("menu");
  const teamSelectionScreen = document.getElementById("teamSelection");
  const gameScreen = document.getElementById("game");

  const quickPlayBtn = document.getElementById("quickPlayBtn");
  const franchiseBtn = document.getElementById("franchiseBtn");
  const startGameBtn = document.getElementById("startGameBtn");

  const homeSelect = document.getElementById("homeTeamSelect");
  const awaySelect = document.getElementById("awayTeamSelect");

  const scoreboardDiv = document.getElementById("scoreboard");
  const situationDiv = document.getElementById("situation");

  // ==== TEAMS ====
  const teams = [
    "49ers", "Eagles", "Cowboys", "Packers", "Chiefs", "Bills", "Bengals", "Ravens",
    "Steelers", "Browns", "Jets", "Giants", "Dolphins", "Patriots", "Chargers", "Raiders",
    "Broncos", "Texans", "Titans", "Colts", "Jaguars", "Commanders", "Seahawks", "Rams",
    "Cardinals", "Lions", "Vikings", "Bears", "Saints", "Falcons", "Panthers", "Buccaneers"
  ];

  // Populate the team selection dropdown menus
  teams.forEach(team => {
    let optHome = document.createElement("option");
    optHome.value = team;
    optHome.textContent = team;
    homeSelect.appendChild(optHome);

    let optAway = document.createElement("option");
    optAway.value = team;
    optAway.textContent = team;
    awaySelect.appendChild(optAway);
  });
  homeSelect.value = "49ers";
  awaySelect.value = "Chiefs";

  // ==== GAME STATE ====
  let homeTeam = homeSelect.value, awayTeam = awaySelect.value;
  let homeScore = 0, awayScore = 0;
  let possession = "home", currentDown = 1, yardsToFirst = 10, ballPosition = 25, quarter = 1;

  // ==== EVENT LISTENERS ====
  // These are the new pieces of code that make the buttons work.
  // When a user clicks a button, the code inside the curly braces {} runs.

  // When the "Quick Play" button is clicked, hide the menu and show the team selection screen.
  quickPlayBtn.addEventListener("click", () => {
    menuScreen.style.display = "none";
    teamSelectionScreen.style.display = "block";
  });

  // When the "Franchise" button is clicked, show an alert.
  franchiseBtn.addEventListener("click", () => {
    alert("Franchise mode is not yet implemented.");
  });

  // When the "Start Game" button is clicked, hide the team selection screen and show the game screen.
  startGameBtn.addEventListener("click", () => {
    // Get the selected teams from the dropdowns
    homeTeam = homeSelect.value;
    awayTeam = awaySelect.value;
    
    // Hide the team selection screen and show the game screen
    teamSelectionScreen.style.display = "none";
    gameScreen.style.display = "block";
    
    // Call the function to start the game
    startGame();
  });

  // ==== GAME FUNCTIONS ====
  function updateScoreboard() {
    scoreboardDiv.innerHTML = `
      <p>${homeTeam}: ${homeScore} - ${awayTeam}: ${awayScore}</p>
      <p>Quarter: ${quarter}</p>
    `;
    updateSituation();
  }

  function updateSituation() {
    let teamWithBall = (possession === "home") ? homeTeam : awayTeam;
    situationDiv.innerHTML = `
      <p>Possession: ${teamWithBall}</p>
      <p>Down: ${currentDown}</p>
      <p>Yards to First Down: ${yardsToFirst}</p>
      <p>Ball on the ${ballPosition} yard line</p>
    `;
  }

  function startGame() {
    // Reset game state for a new game
    homeScore = 0;
    awayScore = 0;
    possession = "home";
    currentDown = 1;
    yardsToFirst = 10;
    ballPosition = 25;
    quarter = 1;
    
    // Update the on-screen display with the new game state
    updateScoreboard();
    updateSituation();
    
    console.log("Game started!");
  }
};
</script>
</body>
</html>
